= pxechn.c32 =
:doctype: manpage
:author: Gene Cumm
:email: gene.cumm@gmail.com
:revdate: 2012-01-04


== NAME ==
pxechn.c32 - Chainboot to new NBP


== SYNOPSIS ==
*pxechn.c32* [-h | --help | -?]
*pxechn.c32* ['OPTIONS'] 'FILE'


== DESCRIPTION ==
Chainboot to a new NBP (Network Boot Program) 'FILE' with options to adjust PXE packet #3 (PXENV_PACKET_TYPE_CACHED_REPLY) to alter end behavior.  'FILE' may be a filename, an IP::FN ( 192.168.1.1::path/to/file.0 ), or URL.  'FILE' is parsed to adjust the DHCP 'sname' field/option 66 and 'file' field/option 67 but these may be overridden.


== OPTIONS ==
// c:p:t:wx:X:
// *-b* 'OPT:BYTE'::
//     Set DHCP Option 'OPT' to a byte value (both in DECIMAL INPUT format).
// 
*-c* 'CONFIG'::
    PXELINUX config file (DHCP Option 209).

// Not implemented (yet).
// *-g*::
//     Use underlying gPXE/iPXE (if available).
// 
// *-G*::
//     Ignore underlying gPXE/iPXE.
// 
*-h*, *--help*, *-?*::
    Print usage information; invalid options will also cause this.

*-p* 'PATH'::
    PXELINUX path (DHCP Option 210).

*-r*::
    Call the PXE stack with PXENV_RESTART_TFTP.  Must be the only option.

*-t* 'SECONDS'::
    PXELINUX timeout (DHCP Option 211).

*-w*::
    wait after loading before booting for user input.

*-x* 'OPTVALSTR'::
    Hex DHCP option input.  The option number is in DECIMAL INPUT format.  The value is in HEX INPUT format.
    // The option number is specified in a format compatible with *strtoul*(3) with a non-space separator recognized by *strtoul*(3).

*-X* 'OPTVALSTR'::
    Pure hex DHCP option input.  The option and its value are in HEX INPUT format.


== DECIMAL INPUT ==
All parameters that are defaulted to decimal format are processed by *strtoul*(3) which allows alternate formats and finds a suitable non-space separating character.


== HEX INPUT ==
Hex parameters are specified in a 2-digit case insensitive hexadecimal bytes with optional non-hexadecimal non-space separators.  This format is intentionally open to allow users to utilize their preferred format.


== EXAMPLES ==
pxechn.c32 gpxelinux.0 -p http://172.16.23.1/tftp/ -w -X A012345678 -x 197:00d0de00
pxechn.c32 gpxelinux.0 -p http://172.16.23.1/tftp/ -w -X A012:3456:78 -x 197:00-d0-de-00
	Both of these are equivalent.  Load gpxelinux.0 (relative to the current directory and not altering sname/option 66), set the PXELINUX path prefix, wait after loading, set option 160 to 0x12 0x34 0x56 0x78, and option 197 to 0x00 0xD0 0xDE 0x00.

pxechn.c32 http://myhost.dom.loc/path/nbp.0 -c myconfig
	Load nbp.0 and set PXELINUX config (option 209).


== NOTES ==
Please note that some NBPs may ignore packet #3 by either not examining it at all or by issuing its own DHCP DISCOVER/REQUEST, negating all DHCP field/option modifications by pxechn.c32.

URL specifications in 'FILE' that include user/password before the host will currently cause the siaddr field to not be set properly.


== AUTHOR ==
{author} <{email}>


== COPYRIGHT ==
Copyright \(C) 2012 {author}. Free use of this software is granted under
the terms of the GNU General Public License (GPL).
